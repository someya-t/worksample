# Ruby on Railsの基礎

## 0.このテキストのゴール
本格的にRuby on RailsでWebアプリケーションを作成するに当たって必要な２つの知識とRuby on Railsのインストールを実践しましょう。

このテキストのゴールは以下の４つとなります。  

1. Ruby on Railsを理解する上で必要になるフレームワークとは何かを理解する
1. Ruby on RailsとMVCフレームワークとは何かを理解する 
1. Ruby on Railsをインストールする
1. Ruby on Railsのバージョンを確認し、動作を確認する

## 1.Webアプリケーションとフレームワーク
Webアプリケーションを作成するにはさまざまな知識が必要で、高度な知識が要求されます。  
Webアプリケーションと言ってもクライアント側での処理、サーバー側での処理があり、データを記録し、処理をさせるならば、データベースの知識も要求されます。  
これを一から習得、作成するには、大変な労力と高度な知識を伴います。それがRuby on Railsの登場により、状況が変化しました。

Webアプリケーションを作る際の時間を大幅に短縮し、実際に動作するWebアプリケーションを作れてしまうものです。  
これを実現する仕組みのことをフレームワークと言います。Ruby on Railsもこのフレームワークの１つなのです。  
Ruby on Railsで実際にWebアプリケーションを作成する前にフレームワークとは何かをまず理解しておきましょう。

## 2.フレームワークとは何か
フレームワークとは訳すと枠組みと言う単語ですが、あまり馴染みがない単語ですね。実生活におけるフレームワークと似たものを想像してみます。

皆さんはお料理キットをご存知でしょうか？ お料理キットにも種類はありますが、総じて具材があらかじめ、人数分用意されており、カットや皮むきなど  下ごしらえも済んで、袋ごとにパックされており、付属の手順（レシピ）に沿って、  手持ちのフライパンや鍋で調理することで、一品が完成するというものです。

お料理キットは調理にかかる時間を短縮するばかりでなく、調理の敷居を下げて、簡単な調理だけで完成するために考えられたものです。つまり、一品を調理するために必要な要素(具材、カット、味付け、調理の手順等)が  あらかじめ用意されているのがお料理キットです。

プログラミングにおけるフレームワークもこのお料理キットに"類似"しています。  
プログラムの処理の構造や仕組みはおおよそ共通点が多いのですが、この共通部分が動作するようにあらかじめ用意されており、共通部分以外の固有の部分については、足りない部分を作成者が補うことで システムが組めてしまうものです。 

一からコーディングしなくてもフレームワークが提供するルール（手順）と機能に従って、共通以外の固有の部分をコーディングするだけで、動くシステムが組めてしまうという画期的なものです。
　
## 3.Ruby on Railsとは何か
Ruby on Railsとは、Webアプリケーションを作成するためのフレームワークです。  
使いこなすためには、覚えることも多いのですが、多岐に渡るWebアプリケーションを作るための技術の習得と機能を一からコーディングするような労力は必要がなく、Webアプリケーション作れてしまう特徴があります。

どうやってそれを実現するのかというと次のMVCという内部の処理構造(仕組み)を用いて実現するフレームワークとなります。  次の4で確認してみましょう。
　
## 4.MVCフレームワークとは
Ruby on Railsを使う上で必要になる知識として、MVCがあります。  
MVCとは何かというと、Ruby on Railsの内部構造を説明する用語で、以下の３つの仕組みの頭文字をとったものです。  

* Model：データベースにアクセスして、必要なデータをやりとりする機能を提供するもの。  

* View：テンプレートを使い、プログラムで制御できるようなWebページ（画面）を作成する。  

* Controller：Webブラウザがアクセスから、ModelやViewを呼び出して、処理し、結果をWebブラウザに返す、一連のプログラムを制御する。  


プログラム全体を上記３つの要素として、整理して、システムを組むことで一通りのWebアプリケーションが 組めて仕組みなのです。  
この用語はRuby on Railsで開発を行う上でよく出てくる用語になりますので、ざっくりでも良いので覚えておきましょう。

## 5.Ruby on Railsをインストールしてみよう
ここからはRuby2.3.3がインストールされているWindows環境を前提にRuby on Railsを使うための手順を説明します。

### 5-1.Development Kitをダウンロードする

1. [RubyInstaller for Windows](https://rubyinstaller.org/downloads/)にアクセスします。  
![RubyInstaller for Windowsサイト](https://github.com/someya-t/worksample/blob/images/image/rybyinst_downloard1.png)  
ページ下部のDEVELOPMENT KIT (OLD)の箇所で利用しているPCによって、32ビット版、64ビット版のいずれかをダウンロードします。  
![32bitまたは64bitを確認してダウンロードする](https://github.com/someya-t/worksample/blob/images/image/rybyinst_downloard2.png)  
お使いのWindowsOSが32ビット版、64ビット版の確認方法は7.の下に記載の【32ビットと64ビットの確認方法】を参照します。 

1. 次にRubyがインストールされているフォルダを開きます。  
規定ではC:\Ruby23-x64フォルダ(32ビット版はC:\Ruby23)にインストールされていますので、  エクスプローラーを開き、Cドライブをダブルクリックし、Ruby23-x64(32ビット版はC:\Ruby23)フォルダを開きます。
フォルダを開いたら、エクスプローラーの右側部分で右クリックし、新規作成→フォルダーをクリックします。新規のフォルダーが作成されるので、フォルダ名をdevkitというフォルダ名称を付けます。

1. 次にRubyがインストールされているフォルダを開きます。  
規定ではC:\Ruby23-x64フォルダ(32ビット版はC:\Ruby23)にインストールされていますので、エクスプローラーを開き、Cドライブをダブルクリックし、Ruby23-x64(32ビット版はC:\Ruby23)フォルダを開きます。  
フォルダを開いたら、エクスプローラーの右側部分で右クリックし、新規作成→フォルダーをクリックします。  
新規のフォルダーが作成されるので、フォルダ名をdevkitというフォルダ名称を付けます。

1. 次にダウンロードしてきたDevelopment Kitを作成したdevkitフォルダにコピーします。  
コピー出来たら、Development Kitをダブルクリックします。  
展開先が表示されますが、規定のままで進みます。  
devkitフォルダにevelopment Kitが解凍されます。

1. 次にコマンドプロンプトを起動し、以下のコマンドを入力し、Enterキーを押下します。  
このコマンドはカレントディレクトリを先程作成したdevkitフォルダに移動するコマンドです。  
【32ビット版の場合】  
![カレントディレクトリを切り替える1_32ビット](https://github.com/someya-t/worksample/blob/images/image/com_cd_32bit1.png)  
実行後：  
![カレントディレクトリを切り替える2_32ビット](https://github.com/someya-t/worksample/blob/images/image/com_cd_32bit2.png)  
【64ビット版の場合】  
![カレントディレクトリを切り替える1_64ビット](https://github.com/someya-t/worksample/blob/images/image/com_cd_64bit1.png)  
実行後：  
![カレントディレクトリを切り替える2_64ビット](https://github.com/someya-t/worksample/blob/images/image/com_cd_64bit2.png)  

1. 次に以下のコマンドを入力し、Enterキーを押下します。  
![devkit_install1](https://github.com/someya-t/worksample/blob/images/image/com_dkrbinit1.png)  
実行後：  
![devkit_install1](https://github.com/someya-t/worksample/blob/images/image/com_dkrbinit2.png)  

1. 次に以下のコマンドを入力し、Enterキーを押下します。  
![devkit_install2](https://github.com/someya-t/worksample/blob/images/image/com_dkrbinstall1.png)  
実行後：  
![devkit_install2](https://github.com/someya-t/worksample/blob/images/image/com_dkrbinstall2.png)  

コマンドプロンプトはそのまま閉じないようにします。次の5-2へ進みましょう。  

#### 【32ビットと64ビットの確認方法】 
> ◆Windows10の場合  
> スタートボタンを右クリックし、表示されたメニューのシステムをクリックします。  
> 設定ウィンドウが表示され、右側の中央からやや下のデバイスの仕様に書かれている「システムの種類」に箇所が32ビットオペレーティングシステムと記載されていたら、32ビット版をダウンロードします。  
> 64ビットオペレーティングシステムと記載されていたら、64ビット版をダウンロードします。  
> 
> ◆Windows7の場合  
> スタートボタンをクリックし、表示されたメニューのコンピュータを右クリックします。  
> 表示されたコントロールパネルのシステムウィンドウでウィンドウ下部の「システムの種類」に32ビットオペレーティングシステムと記載されていたら、32ビット版をダウンロードします。  
> 64ビットオペレーティングシステムと記載されていたら、64ビット版をダウンロードします。  


### 5-2.Ruby on Rails 5をインストール
Ruby on RailsをインストールするにはRubyに付属されているgemと言われるプログラムを使用します。  
このプログラムはRubyの追加機能をパッケージという単位で管理するプログラムでパッケージマネージャーと呼ばれているプログラムとなります。  
このgemを使うと必要な機能を追加できるようになっています。実際にRuby on Railsをgemを使ってインストールします。  
以下のコマンドを入力し、Enterキーを押下します。

![raillsinstall1](https://github.com/someya-t/worksample/blob/images/image/com_gem_raills_inst.png)  
多くのパッケージがダウンロードされますので、完了するまで数分待ちましょう。  

![raillsinstall1](https://github.com/someya-t/worksample/blob/images/image/com_gem_raills_inst2.png)  

一番最後に上記のようなメッセージが表示されたら、完了です。  

そのままコマンドプロンプトは閉じずに5-3.Ruby on Railsでバージョン確認を実行します。  

### 5-3.Ruby on Railsのバージョンを確認してみよう
Ruby on Railsがインストールできたら、以下のコマンドを入力し、実行してみましょう。  

![Raillsのバージョンを確認する](https://github.com/someya-t/worksample/blob/images/image/com_raills-v.png)  

上記のようにバージョンが表示されることを確認してください。  
これでRuby on Railsのインストールが完了しました。これからRuby on Railsを使って開発する準備が整いました。  
お疲れ様でした。ここまで本テキストは終了です。
